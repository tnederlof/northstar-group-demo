{
  "track": "platform",
  "slug": "resource-exhaustion",
  "title": "Resource Exhaustion - Memory Limits Too Low",
  "type": "sre",
  "url_host": "resource-exhaustion.localhost",
  "seed": true,
  "reset_strategy": "namespace-delete",
  "description": "Memory limits are set too low, causing the application to be OOMKilled repeatedly.",
  "symptoms": [
    "Pods showing OOMKilled termination reason",
    "High restart count on pods",
    "Application intermittently unreachable"
  ],
  "fix_hints": [
    "Check pod status for OOMKilled",
    "Review resource limits in deployment",
    "Patch deployment with appropriate memory limits"
  ],
  "checks": {
    "version": 1,
    "default_stage": "broken",
    "stages": {
      "broken": {
        "verify": [
          {
            "type": "k8s.podTerminationReason",
            "description": "Pod has OOMKilled termination reason",
            "selector": "app=fider",
            "reason": "OOMKilled"
          },
          {
            "type": "k8s.podRestartCount",
            "description": "Pod has restarted due to resource issues",
            "selector": "app=fider",
            "min_restarts": 1
          }
        ],
        "health": [
          {
            "type": "k8s.podRestartCount",
            "description": "Restart count continues to increase",
            "selector": "app=fider",
            "min_restarts": 1
          }
        ]
      }
    }
  }
}
